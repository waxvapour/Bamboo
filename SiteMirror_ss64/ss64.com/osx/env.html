<!doctype html><html lang="en">

<!-- Mirrored from ss64.com/osx/env.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 22 Nov 2018 11:40:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><meta charset="UTF-8">
<meta name=viewport content="width=device-width, initial-scale=1">
<link rel="STYLESHEET" href="../main.css" type="text/css">
<title>env Man Page - macOS - SS64.com</title>
</head><body><!-- #BeginLibraryItem "/Library/head_osx.lbi" --><div id="tnav"><ul>
<li class="tbtn"><a href="../index.html"> ( &nbsp;SS64 &nbsp;)</a></li>
<li class="tbtn"><a href="index.html">macOS</a></li>
<li class="tbtn"><a href="syntax.html">Syntax</a></li>
<li><div id="search"><form action="https://www.google.com/search" method="get">
<input type="text" name="q" id="q" size="27" maxlength="255">
<input class="submit" value="Search" id="btn" type="submit">
<input type="hidden" name="sitesearch" value="ss64.com/osx/"></form></div></li>
</ul></div><!-- #EndLibraryItem --><h1>env</h1> 
<p>List or Set environment variables and optionally run a utility.</p>
<pre>Syntax
       env [-iv] [-P <i>altpath</i>] [-S <i>string</i>] [-u <i>name</i>] [name=<i>value</i> ...] [<i>utility</i> [<i>argument</i> ...]]

Key
   -i      Execute the utility with only those environment variables specified by name=value
           options.  The environment inherited by env is ignored completely.

   -P <i>altpath</i>
           Search the set of directories as specified by altpath to locate the specified
           utility program, instead of using the value of the PATH environment variable.

   -S <i>string</i>
           Split apart the given string into multiple strings, and process each of the
           resulting strings as separate arguments to the env utility.  The -S option
           recognizes some special character escape sequences and also supports environment-
           variable substitution, as described below.

   -u <i>name</i>
           If the environment variable name is in the environment, then remove it before
           processing the remaining options.  This is similar to the unset command in sh(1).
           The value for name must not include the `=' character.

   -v      Print verbose information for each step of processing done by the env utility.
           Additional information will be printed if -v is specified multiple times.

     The above options are only recognized when they are specified before any name=value
     options.

     If no utility is specified, env prints out the names and values of the variables in the
     environment, with one name/value pair per line.</pre>
<p>env executes <i>utility</i> after modifying the environment as 
  specified on the command line. Each <span class="code">name=value</span> option specifies the setting of an environment vari-      able, name, with a value of value.  All such environment variables are set before the      utility is executed.</p>
<p>The option name=value specifies an environmental variable, <i>name</i>, 
  with a value of <i>value</i>. </p>
<p>The option `-i' causes env to completely ignore the environment 
  it inherits. </p>
<p>If no <i>utility </i>is specified, env prints out the names and 
  values of the variables in the environment, with one name=value pair per line. <br>
This is the same as running <span class="code"><a href="printenv.html">printenv</a></span>.</p>
<h2>Details of -S (split-string) processing      </h2>
<blockquote>
<p>The processing of the -S option will split the given string into separate arguments based      on any space or &lt;tab&gt; characters found in the string.  Each of those new arguments will      then be treated as if it had been specified as a separate argument on the original env      command.      </p>
<p>Spaces and tabs may be embedded in one of those new arguments by using single (``''') or      double (`&quot;') quotes, or backslashes (`\').  Single quotes will escape all non-single      quote characters, up to the matching single quote.  Double quotes will escape all non-      double quote characters, up to the matching double quote.  It is an error if the end of      the string is reached before the matching quote character.      </p>
<p>If -S would create a new argument that starts with the `#' character, then that argument      and the remainder of the string will be ignored.  The `\#' sequence can be used when you      want a new argument to start with a `#' character, without causing the remainder of the      string to be skipped.      </p>
<p>While processing the string value, -S processing will treat certain character combinations as escape sequences which represent some action to take.  The character escape      sequences are in backslash notation.  The characters and their meanings are as follows:</p>
<pre>      \c      Ignore the remaining characters in the string.  This must not appear inside
              a double-quoted string.
      \f      Replace with a form-feed character.
      \n      Replace with a new-line character.
      \r      Replace with a carriage return character.
      \t      Replace with a tab character.
      \v      Replace with a vertical tab character.
      \#      Replace with a `#' character.  This would be useful when you need a `#' as
              the first character in one of the arguments created by splitting apart the
              given string.
      \$      Replace with a `$' character.
      \_      If this is found inside of a double-quoted string, then replace it with a
              single blank.  If this is found outside of a quoted string, then treat this
              as the separator character between new arguments in the original string.
      \"      Replace with a double quote character.
      \'      Replace with a single quote character.
      \\      Replace with a backslash character.</pre>
<p>The sequences for &lt;single-quote&gt; and backslash are the only sequences which are recog-      nized inside of a single-quoted string.  The other sequences have no special meaning      inside a single-quoted string.  All escape sequences are recognized inside of a double-      quoted string.  It is an error if a single `\' character is followed by a character other      than the ones listed above.</p>
<p>he processing of -S also supports substitution of values from environment variables.  To      do this, the name of the environment variable must be inside of `${}', such as:      ${SOMEVAR}.  The common shell syntax of $SOMEVAR is not supported.  All values substi-      tuted will be the values of the environment variables as they were when the env utility      was originally invoked.  Those values will not be checked for any of the escape sequences      as described above.  And any settings of name=value will not effect the values used for      substitution in -S processing.      </p>
<p>Also, -S processing can not reference the value of the special parameters which are      defined by most shells.  For instance, -S can not recognize special parameters such as:      `$*', `$@', `$#', `$?' or `$$' if they appear inside the given string.</p>
</blockquote>
<h2>Use in shell-scripts</h2>
<blockquote>
<p>The env utility is often used as the interpreter on the first line of interpreted      scripts, as described in execve(2).      </p>
<p>Note that the way the kernel parses the `#!' (first line) of an interpreted script has      changed as of FreeBSD 6.0.  Prior to that, the FreeBSD kernel would split that first line      into separate arguments based on any whitespace (space or &lt;tab&gt; characters) found in the      line.  So, if a script named /usr/local/bin/someport had a first line of:            </p>
<p class="code">#!/usr/local/bin/php -n -q -dsafe_mode=0</p>
<p>then the /usr/local/bin/php program would have been started with the arguments of:</p>
<pre> arg[0] = '/usr/local/bin/php'
 arg[1] = '-n'
 arg[2] = '-q'
 arg[3] = '-dsafe_mode=0'
 arg[4] = '/usr/local/bin/someport'</pre>
<p>plus any arguments the user specified when executing someport.  However, this processing      of multiple options on the `#!' line is not the way any other operating system parses the      first line of an interpreted script.  So after a change which was made for FreeBSD 6.0      release, that script will result in /usr/local/bin/php being started with the arguments      of:</p>
<pre> arg[0] = '/usr/local/bin/php'
 arg[1] = '-n -q -dsafe_mode=0'
 arg[2] = '/usr/local/bin/someport'</pre>
<p>plus any arguments the user specified.  This caused a significant change in the behavior      of a few scripts.  In the case of above script, to have it behave the same way under      FreeBSD 6.0 as it did under earlier releases, the first line should be changed to:</p>
<p class="code">arg[1] = '-S /usr/local/bin/php -n -q -dsafe_mode=0'</p>
<p>The env utility will be started with the entire line as a single argument:            arg[1] = '-S /usr/local/bin/php -n -q -dsafe_mode=0'      and then -S processing will split that line into separate arguments before executing      /usr/local/bin/php.</p>
</blockquote>
<h2>Environment</h2>
<blockquote>
<p>The env utility uses the PATH environment variable to locate the requested utility if the      name contains no `/' characters, unless the -P option has been specified. </p>
</blockquote>
<h2>Exit Status</h2>
<blockquote>
<p>The env utility exits 0 on success, and &gt;0 if an error occurs.  An exit status of 126      indicates that utility was found, but could not be executed.  An exit status of 127 indicates that utility could not be found. </p>
</blockquote>
<h2>Examples</h2>
<blockquote>
<p>Since the env utility is often used as part of the first line of an interpreted script,      the following examples show a number of ways that the env utility can be useful in      scripts.      The kernel processing of an interpreted script does not allow a script to directly refer-      ence some other script as its own interpreter.  As a way around this, the main difference      between</p>
<p><span class="code">#!/usr/local/bin/foo      <br>
</span>and <span class="code"><br>
#!/usr/bin/env /usr/local/bin/foo</span></p>
<p>is that the latter works even if /usr/local/bin/foo is itself an interpreted script.      </p>
<p>Probably the most common use of env is to find the correct interpreter for a script, when      the interpreter may be in different directories on different systems.  The following      example will find the `perl' interpreter by searching through the directories specified      by PATH.</p>
<p class="code"> #!/usr/bin/env perl      </p>
<p>One limitation of that example is that it assumes the user's value for PATH is set to a      value which will find the interpreter you want to execute.  The -P option can be used to      make sure a specific list of directories is used in the search for utility.  Note that      the -S option is also required for this example to work correctly. </p>
<p class="code">#!/usr/bin/env -S -P/usr/local/bin:/usr/bin perl      </p>
<p>The above finds `perl' only if it is in /usr/local/bin or /usr/bin.  That could be com-      bined with the present value of PATH, to provide more flexibility.  Note that spaces are      not required between the -S and -P options:            </p>
<p class="code">#!/usr/bin/env -S-P/usr/local/bin:/usr/bin:${PATH} perl</p>
</blockquote>
<p>The env utility accepts the - option as a synonym for -i.<br>
</p>
<p class="quote"><i>"Each time we changed our environment, our environment changed 
  our behavior, and our new behavior demanded a new environment&quot; ~ Laurence 
  J. Peter </i></p>
<p><b>Related macOS commands:</b></p>
<p><a href="set.html">set</a> - Set a variable<br>
<a href="printenv.html">printenv</a> - List environment variables<br>
environ - user environment</p><!-- #BeginLibraryItem "/Library/foot_osx.lbi" --><p><script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
<!-- OSX300 -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:250px"
     data-ad-client="ca-pub-6140977852749469"
     data-ad-slot="1823340303"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></p>
<hr>
<div id=bl class="footer">&nbsp;</div>
<div id=br class="footer, tagline">Copyright &copy; <a href="../index.html">SS64.com</a> 1999-2018<br>
Some rights reserved</div><!-- #EndLibraryItem --></body>

<!-- Mirrored from ss64.com/osx/env.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 22 Nov 2018 11:40:13 GMT -->
</html>